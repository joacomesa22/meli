---
import { Image } from "astro:assets";
---

<section class="section home-dark-section dual-service-section">
	<div class="col-span-12 col-start-1 mx-auto px-8 py-24 md:px-12 lg:py-32">
		<h2 class="sr-only">Dual Services</h2>
		<div class="flex justify-between gap-12">
			<!-- Left Service -->
			<div class="relative overflow-hidden rounded-lg">
				<img
					src="https://images.unsplash.com/photo-1552664730-d307ca884978?w=800&q=80"
					alt="Service 1"
					class="h-96 w-full object-cover md:h-[500px] lg:h-[600px]"
				/>
				<div class="absolute inset-0 flex flex-col justify-end bg-gradient-to-t from-black/60 to-transparent p-8 md:p-12">
					<h3 class="font-display text-2xl uppercase text-white md:text-3xl lg:text-4xl">Service One</h3>
					<p class="mt-4 text-base text-white md:text-lg">
						This is a placeholder description for the first service. Add your content here.
					</p>
				</div>
			</div>

			<!-- Divider Line -->
			<div class="hidden md:flex md:min-h-[500px] md:w-px md:bg-zinc-300 lg:min-h-[600px]"></div>

			<!-- Right Service -->
			<div class="relative overflow-hidden rounded-lg">
				<img
					src="https://images.unsplash.com/photo-1517694712202-14dd9538aa97?w=800&q=80"
					alt="Service 2"
					class="h-96 w-full object-cover md:h-[500px] lg:h-[600px]"
				/>
				<div class="absolute inset-0 flex flex-col justify-end bg-gradient-to-t from-black/60 to-transparent p-8 md:p-12">
					<h3 class="font-display text-2xl uppercase text-white md:text-3xl lg:text-4xl">Service Two</h3>
					<p class="mt-4 text-base text-white md:text-lg">
						This is a placeholder description for the second service. Add your content here.
					</p>
				</div>
			</div>
		</div>
	</div>
</section>

<style>
	section {
		@apply relative flex w-full flex-col;
	}

	.dual-service-section .relative {
		--clip: 0%;
		clip-path: inset(var(--clip) round 0.5rem);
	}
</style>

<script>
	import { gsap } from "gsap";
	import { ScrollTrigger } from "gsap/ScrollTrigger";

	gsap.registerPlugin(ScrollTrigger);

	function init() {
		const containers = gsap.utils.toArray(".dual-service-section .relative") as gsap.DOMTarget[];

		containers.forEach((container) => {
			gsap.from(container, {
				scrollTrigger: {
					trigger: container,
					start: "top bottom",
					end: "center center",
					scrub: 1,
					markers: false,
				},
				ease: "power3.out",
				"--clip": "30%",
			});
		});
	}

	document.removeEventListener("DOMContentLoaded", init);
	document.addEventListener("DOMContentLoaded", init);
</script>
